<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Java script Object</title>
</head>
<body>
	<a>Hello World</a>
	<script type="text/javascript">
		var empCount = 0;
		//构造函数
		function Employee(name, salary) {
			this.name = name;
			this.salary = salary;
			this.empCount += 1;
		}

		Employee.prototype.displayCount = function() {
			console.log("Total Employee " + empCount);
		}

		Employee.prototype.displayEmployee = function() {
			console.log("Name " + this.name + ", Salary " + this.salary);
		}

		Employee.prototype.addSalary = function(x) {
			if (x > 0) {
				this.salary = +this.salary + x;
			}
		}

		//创建实例
		var ea = new Employee("a", 1000);
		var eb = new Employee("b", 2000);
		console.log(ea);
		console.log(eb);

		/*ECMAScript5 */
		var ec = new Employee('c', 3000);

		//调用Object的freeze方法来是对象变得不可修改。
		var immovible = Object.freeze(ec);
		ec.addSalary(100);
		console.log(immovible);

		//----------------------------------------------------------------------------------		
		var obj = {};
		Object.defineProperty(obj, "prop", {
			value : "test hehe",
			writable : false
		});

		console.log(obj.prop);

		//----------------------------------------------------------------------------------
		Object.defineProperty(o, 'age', {
			value : 24,
			writable : true,
			enumerable : true,
			configurable : true
		});

		Object.defineProperty(o, 'sex', {
			value : 'male',
			writable : false,
			enumerable : false,
			configurable : false
		});

		console.log(o.age); //24
		o.age = 25;

		for ( var obj in o) {
			console.log(obj + ' : ' + o[obj]);
			/*
			age : 25  //没有把sex ： male 遍历出来
			say : function () {
			    alert(this.name);
			} 
			name : Byron 
			 */
		}
		delete o.age;
		console.log(o.age);//undefined 

		console.log(o.sex); //male
		//o.sex = 'female'; //Cannot assign to read only property 'sex' of #<Object> 
		delete o.age;
		console.log(o.sex); //male ,并没有被删除

		//----------------------------------------------------------------------------------
		Object o1 = new Object();
		Object.defineProperties(o1, {
			'age' : {
				value : 24,
				writable : true,
				enumerable : true,
				configurable : true
			},
			'sex' : {
				value : 'male',
				writable : false,
				enumerable : false,
				configurable : false
			}
		});

		//----------------------------------------------------------------------------------
		var newObj = Object.create(null, {
			size : {
				value : "large",
				enumerable : true
			},
			shape : {
				value : "round",
				enumerable : true
			}
		});

		document.write(newObj.size + "<br/>");
		document.write(newObj.shape + "<br/>");
		document.write(Object.getPrototypeOf(newObj));
	</script>
</body>
</html>